<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>WORK</title>
  <link rel="stylesheet" type="text/css" href="css/common.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/animate.min.css">
</head>
<body>
	<!-- 导航  -->
	<div class="nav" id="nav">
		<a href="home.html" ch="首页" en="HOME">HOME</a>
		<a class="active" href="work.html" ch="作品" en="WORK">WORK</a>
		<a href="team.html" ch="团队" en="TEAM">TEAM</a>
		<a href="contact.html" ch="联系我们" en="CONTACT">CONTACT</a>
	</div>

	<div class="work-wrap o-h">
		<div class="page-l f-l"></div>

		<div id="workImg" class="page-r f-l" style="background: url(images/p2.jpg) no-repeat; background-size: cover;"></div>
	</div>
	
	<!-- 作品列表 -->
	<ul class="menu-work" id="menu_work">
		<li class="active">
			<span class="line-l"></span>
			<span class="year-name">2017</span>
			<span class="line-c-l"></span>
			<span class="line-c-r"></span>
			<a class="first-work" href="work-detail.html" workimg="images/p2.jpg">PLUTO</a>
			<ul class="work-list">
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p1.jpg">MR TOKIO</a>
					<span class="year-r"></span>
				</li>
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p2.jpg">M.A</a>
					<span class="year-r"></span>
				</li>
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p3.jpg">LIMBO</a>
					<span class="year-r"></span>
				</li>
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p4.jpg">M.A</a>
					<span class="year-r"></span>
				</li>
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p1.jpg">LIMBO</a>
					<span class="year-r"></span>
				</li>
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p2.jpg">M.A</a>
					<span class="year-r"></span>
				</li>
			</ul>
			<span class="year-r"></span>
			<br class="clear">
		</li>
		<li>
			<span class="line-l"></span>
			<span class="year-name">2016</span>
			<span class="line-c-l"></span>
			<span class="line-c-r"></span>
			<a class="first-work" href="work-detail.html" workimg="images/p3.jpg">BC</a>
			<ul class="work-list">
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p1.jpg">MR TOKIO</a>
					<span class="year-r"></span>
				</li>
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p2.jpg">MOUSLA</a>
					<span class="year-r"></span>
				</li>
			</ul>
			<span class="year-r"></span>
			<br class="clear">
		</li>
		<li>
			<span class="line-l"></span>
			<span class="year-name">2015</span>
			<span class="line-c-l"></span>
			<span class="line-c-r"></span>
			<a class="first-work" href="work-detail.html" workimg="images/p1.jpg">HASKI</a>
			<ul class="work-list">
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p3.jpg">HASKI</a>
					<span class="year-r"></span>
				</li>
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p4.jpg">POPY</a>
					<span class="year-r"></span>
				</li>
				<li>
					<span class="line-c-r"></span>
					<a href="work-detail.html" workimg="images/p1.jpg">LABL</a>
					<span class="year-r"></span>
				</li>
			</ul>
			<span class="year-r"></span>
			<br class="clear">
		</li> 
	</ul>

	<script type="text/javascript" src="js/lib/jquery.js"></script>
	<script type="text/javascript">
		$(function () {
			init();

			$('#menu_work>li').eq(0).find('ul.work-list').find('a').each(function () {
				var _self = $(this);
				_self.siblings('.line-c-r, .year-r').width(($(window).width() * 0.75 - _self.outerWidth(true)) / 2 - 1);
			});

			$('#nav').on('mouseover mouseout', 'a', function (event) {
				var self = $(this);
				 if (event.type == "mouseover") {
				 	self.width(self.width()).html(self.attr('ch')).css({
				 		fontFamily: '"redocn"',
				 		backgroundColor: '#000',
				 		color: '#fff'
				 	});
				 } else if (event.type == "mouseout") {
				 	self.html(self.attr('en')).css({
				 		fontFamily: '"dinlight"',
				 		background: 'none',
				 		color: '#000'
				 	});
				 }
			});
			
			$('#menu_work>li').hover(function () {
				var self = $(this);
				if (!self.hasClass('active')) {
					self.addClass('active').siblings('li').removeClass('active');

					self.find('ul.work-list li').removeClass('active');
					self.find('ul.work-list').find('a').each(function () {
						var _self = $(this);
						_self.siblings('.line-c-r, .year-r').width(($(window).width() * 0.75 - _self.outerWidth(true)) / 2 - 1);
					});
					init();
				}

				$('#workImg').css('opacity', '0').attr('style', 'background: #000 url('+self.find('a.first-work').attr('workimg')+') no-repeat; background-size: cover;opacity:0;').animate({opacity: 1}, 2000);

				self.find('a').hover(function () {
					var _self = $(this);
					$('#workImg').css('opacity', '0').attr('style', 'background: #000 url('+_self.attr('workimg')+') no-repeat; background-size: cover;opacity:0;').animate({opacity: 1}, 2000);
				});
				
			});

			$(window).resize(function () {
				init();
			});
		});

		function init () {
			var width_window = $(window).width();
			$('.line-c-l').each(function () {
				var self = $(this);
				self.width(self.parent('li').width() * 0.25 - self.siblings('.line-l').width() - self.siblings('.year-name').width());
			});

			$('.first-work').each(function () {
				var self = $(this);
				self.siblings('.line-c-r, .year-r').width((width_window * 0.75 - self.outerWidth(true)) / 2 - 1);
			});
			
			$('ul.work-list').each(function (index) {
				var self = $(this);

				self.find('a').each(function () {
					var _self = $(this);
					_self.siblings('.line-c-r, .year-r').width(($(window).width() * 0.75 - _self.outerWidth(true)) / 2 - 1);
				});

				self.find('li').hover(function () {
					var _self = $(this);

					_self.addClass('active').siblings('li').removeClass('active');

					$('#workImg').css('opacity', '0').attr('style', 'background: #000 url('+_self.find('a').attr('workimg')+') no-repeat; background-size: cover;opacity:0;').animate({opacity: 1}, 2000);
				});
			});
		}
	</script>
</body>
</html>
